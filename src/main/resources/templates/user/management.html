<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<link th:href="@{/css/style.css}" rel="stylesheet" />
	<link href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" rel="stylesheet">

</head>

<body>
	<fieldset class="management">
		<div class="form-group">
			<form th:action="@{/user/management}" method="post" name="userData" th:object="${user}">
				<label>ユーザー名:</label>
				<input type="text" name="name" th:value="${userForm.name}" id="name" class="textbox"/>
				<input type="submit" class="btn-mgmt" value="検索" name="search">

		</div>

		<hr>

			<div class="form-group">
				<label>ユーザーID：</label>
				<span th:text="${user != null ? user.userId : ''}"></span>
				<input type="hidden" name="userId" th:value="${user != null ? user.userId : ''}">
			</div>

			<div class="form-group">
				<label>パスワード:</label>
				<input type="password" name="password" maxlength="20" th:value="${user!= null ? user.password : ''}" class="textbox"/>

			</div>
			<div class="form-group">
				<label for="role">権限:</label>
				<th:block th:if="${user != null ? user.role : ''}" />
				<select name="role" id="role">
					<option value="select">選択してください</option>
					<option value="0001" th:selected="${user != null && user.role == '0001'}">システム管理者</option>
					<option value="0002" th:selected="${user != null && user.role == '0002'}">マネージャー</option>
					<option value="0003" th:selected="${user != null && user.role == '0003'}">ユニットマネージャー</option>
					<option value="0004" th:selected="${user != null && user.role == '0004'}">社員</option>
				</select>


			</div>
			<div class="form-group">
				<label>利用開始日:</label>
				<input type="text" name="startDate"
					th:value="${user != null ? #dates.format(user.startDate, 'yyyy-MM-dd') : ''}"
					placeholder="例:1998-02-04" class="textbox"/>
			</div>

			<input type="submit" class="btn-mgmt-regist" value="登録" name="regist" />

		</form>
			
			<div th:if="${errors}">
				<div th:each="error : ${errors}" class="error">
					<p th:text="${error.defaultMessage}"></p>
				</div>
			</div>

			<div th:if="${registMessage}" class="success" th:text="${registMessage}"></div>
			
			<div th:if="${updateMessage}" class="success" th:text="${updateMessage}"></div>
			
			<div th:if="${deleteMessage}" class="success" th:text="${deleteMessage}"></div>

	</fieldset>

</body>

</html>
